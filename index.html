<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="JavaScriptã®åŸºæœ¬èª¬æ˜ã¨Canvas APIã‚’ä½¿ç”¨ã—ãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆæ–¹æ³•ã€è‡ªç„¶ã®ç¨®ã®è½ä¸‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’å†ç¾ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦å­¦ã¶ãƒšãƒ¼ã‚¸ã§ã™ã€‚">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="html,css,js,web">
    <meta name="format-detection" content="telephone=no,email=no,address=no">
    <title>JavaScriptã¨Canvasã®åŸºæœ¬</title>
    <link rel="icon" href="./image/kame .png">
    <link rel="apple-touch-icon" href="./image/icon-ume_suibokuga.png">
    <link rel="stylesheet" href="main.css">
    <script type="text/javascript" src="button.js"></script>
    
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Three.js importmap -->
    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.167.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.167.0/examples/jsm/"
        }
    }
    </script>

    <script>
        (function(d) {
            var config = {
            kitId: 'arw6slj',
            scriptTimeout: 3000,
            async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    

</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header>
        <nav>
            <a href="https://earthchart0809.github.io/Portfolio/#about" target="_blank">ABOUT</a>
            <a href="https://earthchart0809.github.io/Portfolio/#career" target="_blank">CAREER</a>
            <a href="https://earthchart0809.github.io/Portfolio/#skills" target="_blank">SKILLS</a>
            <!--<a href="#awards">AWARDS</a>
            <a href="#publications">PUBLICATIONS</a>-->
            <a href="https://earthchart0809.github.io/Portfolio/#works" target="_blank">WORKS</a>
            <a href="https://earthchart0809.github.io/Portfolio/#contact" target="_blank">CONTACT</a>
        </nav>
    </header>


    <h1 class="upheader"><strong>EarthChart's JavaScript Report</strong></h1>
    <div class="contents-flex">
    <div class="contents">
    <h1>ç›®æ¬¡</h1>
    <ul>
        <li>
            åˆã‚ã«
            <img src="./image/reaf1.png" alt="æ¡œã®è‘‰ã£ã±1" class="right-icon">
        </li>
        <li>
            JavaScriptã®åŸºæœ¬èª¬æ˜
            <img src="./image/reaf2.png" alt="æ¡œã®è‘‰ã£ã±2" class="right-icon">
        </li>
        <li>
            Canvas API ã«ã¤ã„ã¦
            <img src="./image/reaf1.png" alt="æ¡œã®è‘‰ã£ã±1" class="right-icon">
        </li>
        <li>
            ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            <img src="./image/reaf2.png" alt="æ¡œã®è‘‰ã£ã±2" class="right-icon">
        </li>
        <li>
            3Dã®èŠ±ã‚’ä½œæˆã™ã‚‹
            <img src="./image/reaf1.png" alt="æ¡œã®è‘‰ã£ã±1" class="right-icon">
        </li>
    </ul>
</div>

    <div class="Introduction-flex">
    <div class="Introduction">
        <h2>åˆã‚ã«</h2>
        <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€JavaScriptã®åŸºæœ¬çš„ãªèª¬æ˜ã¨ã€Canvas APIã‚’ä½¿ç”¨ã—ãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆæ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚<br>
            ã¾ãŸã€3Dãƒ¢ãƒ‡ãƒ«ã®èŠ±ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã‚‚è§¦ã‚Œã¾ã™ã€‚</p>

        <h2>JavaScriptã®åŸºæœ¬èª¬æ˜</h2>
        <p>JavaScriptã¯ã€Webãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ä½œã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã§ã‚ã‚Šã€ä¸»ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®æ“ä½œã‚„ãƒ‡ãƒ¼ã‚¿ã®<br>
            å‡¦ç†ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚JavaScriptã®åŸºæœ¬çš„ãªæ–‡æ³•ã‚„æ§‹æ–‡ã«ã¤ã„ã¦å­¦ã¶ã“ã¨ã¯ã€Webé–‹ç™ºã«ãŠã„ã¦éå¸¸ã«é‡è¦ã§ã™ã€‚</p>
        
        <h2>Three.jsã®å°å…¥ã«ã¤ã„ã¦</h2>
        <p>Three.jsã¯ã€WebGLã‚’ä½¿ç”¨ã—ã¦3Dã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æç”»ã™ã‚‹ãŸã‚ã®JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚<br>
            ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®3Dã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

            <details>
        <summary>cdnã®åˆ©ç”¨æ–¹æ³•</summary>
        <p>
            <code id="code1">
&lt;script type="importmap"&gt;
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.167.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.167.0/examples/jsm/"
        }
    }
&lt;/script&gt;
&lt;script type="module"&gt;
 import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
&lt;/script&gt;
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>

        <h2>Canvas API ã«ã¤ã„ã¦</h2>
        <p>Canvas APIã¯ã€HTML5ã§å°å…¥ã•ã‚ŒãŸ2Dã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æç”»ã™ã‚‹ãŸã‚ã®APIã§ã™ã€‚JavaScriptã‚’ä½¿ç”¨ã—ã¦ã€<br>
            å‹•çš„ãªã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>

        <details>
        <summary>canvasã®åˆ©ç”¨æ–¹æ³•</summary>
        <p>
            <code id="code2">
&lt;canvas&gt; id="petalCanvas" width="600" height="480"&gt;&lt;/canvas&gt;
            </code>
            <button onclick="copyToClipboard('code2')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>

        <h2>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³</h2>
        <p>JavaScriptã‚’ä½¿ç”¨ã—ãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆæ–¹æ³•ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚Three.jsã§ã¯`requestAnimationFrame()`ã‚’ä½¿ç”¨ã—ã¦ã€<br>
            ã‚¹ãƒ ãƒ¼ã‚ºãªå›è»¢ã‚„ç§»å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
<details>
        <summary>ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ—ã®åŸºæœ¬</summary>
        <p>
            <code id="code1">
// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ—
function animate() {
    requestAnimationFrame(animate);  // æ¬¡ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¦æ±‚
    
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å›è»¢
    petal.rotation.z += 0.01;       // Zè»¸å›è»¢
    
    // ã‚«ãƒ¡ãƒ©ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’æ›´æ–°
    controls.update();
    
    // ã‚·ãƒ¼ãƒ³ã‚’æç”»
    renderer.render(scene, camera);
}

// ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
animate();
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>

        <h2>3Dã®èŠ±ã‚’ä½œæˆã™ã‚‹</h2>
        <p>3Dã®èŠ±ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã€Three.jsã‚’ä½¿ç”¨ã—ã¦ç«‹ä½“çš„ãªèŠ±ã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚èŠ±ã³ã‚‰ã‚„èŒã€è‘‰ã£ã±ã‚’å€‹åˆ¥ã«ä½œæˆã—ã€<br>
            çµ„ã¿åˆã‚ã›ã¦1ã¤ã®èŠ±ã‚’å½¢æˆã—ã¾ã™ã€‚</p>
    </div>
    </div>

    <div class="title">
    <h1> Three.js 3DèŠ±åœ’ </h1>
    </div>
    
    <div class="canvas-container">
        <!-- æ¡œã®èŠ±ã³ã‚‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="demo-flex">
        <div class="demo-section">
            <div class="info">
                ğŸŒ¸ æ¡œã®èŠ±ã³ã‚‰<br>
                ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å›è»¢ã§ãã¾ã™
            </div>
            <canvas id="petalCanvas" width="480" height="360"></canvas>
        </div>

        <div class="demo-explain">
            <p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¡œã®èŠ±ã³ã‚‰ã‚’æç”»ã™ã‚‹ãŸã‚ã®JavaScriptã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚<br>
            èŠ±ã³ã‚‰ã¯Canvas APIã‚’ä½¿ç”¨ã—ã¦æç”»ã•ã‚Œã€ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å›è»¢ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br>
        ã€ŒquadraticCurveTo()ã‚’ä½¿ã£ã¦æ¡œã®èŠ±ã³ã‚‰ç‰¹æœ‰ã®æ›²ç·šã‚’æç”»ã€ã—ã¾ã—ãŸã€‚</p>
<details>
        <summary>èŠ±ã³ã‚‰ç”Ÿæˆé–¢æ•°</summary>
        <p>
            <code id="code1">
// èŠ±ã³ã‚‰ç”Ÿæˆé–¢æ•°
function createSakuraPetal(size, color, position) {
    const shape = new THREE.Shape();
    
    // æ¡œã®èŠ±ã³ã‚‰ã®å½¢çŠ¶ã‚’æç”»
    shape.moveTo(0, 0);  // é–‹å§‹ç‚¹
    shape.quadraticCurveTo(size * 0.5, size * 0.2, size, size * 0.6);      // å³ã®æ›²ç·š
    shape.quadraticCurveTo(size * 0.9, size * 1.0, size * 0.5, size * 1.2); // å…ˆç«¯ã®å³å´
    shape.quadraticCurveTo(size * 0.2, size * 1.3, 0, size * 1.0);          // å…ˆç«¯ã®ãã¼ã¿
    shape.quadraticCurveTo(-size * 0.2, size * 0.7, -size * 0.1, size * 0.3); // å·¦ã®æ›²ç·š
    shape.quadraticCurveTo(-size * 0.05, size * 0.1, 0, 0);                 // å…ƒã®ä½ç½®ã«æˆ»ã‚‹
}
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
        <summary>2Då½¢çŠ¶ã‚’3Dã«å¤‰æ›</summary>
        <p>
            <code id="code1">
// 2Då½¢çŠ¶ã‚’3Dã«å¤‰æ›
const extrudeSettings = {
    depth: 0.01,           // åšã¿
    bevelEnabled: true,    // é¢å–ã‚Šã‚’æœ‰åŠ¹
    bevelThickness: 0.005, // é¢å–ã‚Šã®åšã¿
    bevelSize: 0.005,      // é¢å–ã‚Šã®ã‚µã‚¤ã‚º
    bevelSegments: 2       // é¢å–ã‚Šã®åˆ†å‰²æ•°
};

const geometry = new THREE.ExtrudeGeometry(shape, extrudeSettings);
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
        <summary>èŠ±ã³ã‚‰ã«è‡ªç„¶ãªæ¹¾æ›²ã‚’è¿½åŠ </summary>
        <p>
            <code id="code1">
// èŠ±ã³ã‚‰ã«è‡ªç„¶ãªæ¹¾æ›²ã‚’è¿½åŠ 
const positionAttribute = geometry.attributes.position;
const vertex = new THREE.Vector3();

for (let i = 0; i < positionAttribute.count; i++) {
    vertex.fromBufferAttribute(positionAttribute, i);
    
    // ä¸­å¿ƒã‹ã‚‰ã®è·é›¢ã«å¿œã˜ã¦æ¹¾æ›²ï¼ˆZæ–¹å‘ã«æ›²ã’ã‚‹ï¼‰
    const dist = Math.sqrt(vertex.x ** 2 + vertex.y ** 2);
    const curveStrength = 0.1; // æ¹¾æ›²ã®å¼·ã•
    vertex.z = Math.sin(dist * Math.PI) * curveStrength;
    
    positionAttribute.setXYZ(i, vertex.x, vertex.y, vertex.z);
}
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
        <summary>èŠ±ã³ã‚‰ã®æè³ªè¨­å®š</summary>
        <p>
            <code id="code1">
// èŠ±ã³ã‚‰ã®æè³ªè¨­å®š
const material = new THREE.MeshStandardMaterial({
    color: color,        // è‰²
    transparent: true,   // é€æ˜åº¦ã‚’æœ‰åŠ¹
    opacity: 0.9        // é€æ˜åº¦ï¼ˆ90%ä¸é€æ˜ï¼‰
});

const petal = new THREE.Mesh(geometry, material);
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    
        </div>
        </div>

    <!-- æ¡œã®èŠ±ã³ã‚‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="demo-flex">
        <div class="demo-section">
            <div class="info">
                ğŸŒ¸ æ¡œã®èŠ±<br>
                ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å›è»¢ã§ãã¾ã™
            </div>
            <canvas id="sakuraCanvas" width="480" height="360"></canvas>
        </div>
        <div class="demo-explain">
            <p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å…ˆã»ã©ã®æ¡œã®èŠ±ã³ã‚‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ä¸€è¼ªã®æ¡œã®èŠ±ã‚’ä½œæˆã—ã¾ã™ã€‚
            èŠ±ã³ã‚‰ã‚’æ”¾å°„çŠ¶ã«é…ç½®ã—ã€é›„è•Šã¨é›Œè•Šã‚’è¿½åŠ ã—ã¦ã€ã‚ˆã‚Šãƒªã‚¢ãƒ«ãªæ¡œã®èŠ±ã‚’è¡¨ç¾ã—ã¾ã™ã€‚<br>
            èŠ±ã³ã‚‰ã®è‰²ã‚„å½¢çŠ¶ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè‡ªç„¶ãªè¦‹ãŸç›®ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚<br>
            </p>

         <details>
        <summary>æ¡œã®èŠ±ã®æ§‹æˆè¦ç´ ã®çµ„ã¿ç«‹ã¦</summary>
        <p>
            <code id="code1">
// æ¡œã®èŠ±å…¨ä½“ã‚’ä½œæˆ
const sakuraFlower = new THREE.Group();

// 5æšã®èŠ±ã³ã‚‰ã‚’æ”¾å°„çŠ¶ã«é…ç½®
for (let i = 0; i < 5; i++) {
    const angle = (i / 5) * Math.PI * 2;  // 72åº¦ãšã¤é…ç½®
    const petal = createRealisticSakuraPetal(0.2, 0xff69b4, angle, i);
    sakuraFlower.add(petal);
}

// é›„è•Šã¨é›Œè•Šã‚’è¿½åŠ 
const stamens = createStamen(15);
const pistil = createPistil();
sakuraFlower.add(stamens);
sakuraFlower.add(pistil);
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    </div>
    </div>

    <div class="demo-flex">
    <div class="demo-section">
        <div class="info">
            æ¡œã®æ<br>
            ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å›è»¢ã§ãã¾ã™
        </div>
    <canvas id="treeCanvas" width="480" height="360"></canvas>
    </div>
     <div class="demo-explain">
            <p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¡œã®æã‚’ä½œæˆã—ã¾ã™ã€‚<br>
            æã®å½¢çŠ¶ã‚„é…ç½®ã‚’å·¥å¤«ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šè‡ªç„¶ãªæ¡œã®æœ¨ã‚’è¡¨ç¾ã—ã¾ã™ã€‚<br>
            </p>

         <details>
        <summary>æ¡œã®æã®ç¯€</summary>
        <p>
            <code id="code1">
// â˜…ç¯€ã®æƒ…å ±ã‚’å®šç¾©
const nodes = [
    { position: new THREE.Vector3(0, 0, 0), direction: new THREE.Vector3(1, 0, 0) },
    { position: new THREE.Vector3(0.4, 0.1, 0.05), direction: new THREE.Vector3(0.8, 0.6, -0.1) },
    { position: new THREE.Vector3(0.7, 0.35, 0), direction: new THREE.Vector3(0.6, 0.8, 0.2) },
    { position: new THREE.Vector3(0.9, 0.7, 0.15), direction: new THREE.Vector3(0.3, 0.9, -0.1) },
    { position: new THREE.Vector3(1.0, 1.1, 0.1), direction: new THREE.Vector3(0.2, 1.0, 0.1) }
];
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
     <details>
        <summary>æ¡œã®æã®æ¥ç¶š</summary>
        <p>
            <code id="code1">
// â˜…ç¯€é–“ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆ
for (let i = 0; i < nodes.length - 1; i++) {
    const startNode = nodes[i];
    const endNode = nodes[i + 1];
    
    // ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®é•·ã•
    const segmentLength = startNode.position.distanceTo(endNode.position);
    
    // â˜…é©åº¦ã«çœŸã£ç›´ããªã‚»ã‚°ãƒ¡ãƒ³ãƒˆä½œæˆ
    const segmentGeometry = new THREE.CylinderGeometry(
        0.02 * (1 - i * 0.15), // å…ˆç«¯ã«å‘ã‹ã£ã¦ç´°ããªã‚‹
        0.025 * (1 - i * 0.1),
        segmentLength,
        12
    );
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
        <summary>æ¡œã®æã®éšå±¤åˆ†å²</summary>
        <p>
            <code id="code1">
// â˜…ç¯€ï¼ˆãµã—ï¼‰ã‚’ä½œæˆ
for (let i = 1; i < nodes.length - 1; i++) {
    const node = nodes[i];
    
    // ç¯€ã®è†¨ã‚‰ã¿
    const nodeGeometry = new THREE.SphereGeometry(0.018, 12, 12);
    const nodeSwelling = new THREE.Mesh(nodeGeometry, barkMaterial);
    nodeSwelling.position.copy(node.position);
    
    // â˜…ç¯€ã‹ã‚‰å°æã‚’è¿½åŠ ï¼ˆ1-2æœ¬ï¼‰
    const subBranchCount = Math.random() > 0.5 ? 1 : 2;
    for (let j = 0; j < subBranchCount; j++) {
        createSubBranch(node.position, branchGroup, barkMaterial, i);
    }
}
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
        <summary>æ¡œã®å°æã®æ§‹é€ </summary>
        <p>
            <code id="code1">
// â˜…å°æã®ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ•°ï¼ˆ2-4å€‹ã«å¢—åŠ ï¼‰
const segments = 2 + Math.floor(Math.random() * 3);

// â˜…å°æã®ç¯€ã®ä½ç½®ã‚’å®šç¾©
const subNodes = [];
for (let i = 0; i <= segments; i++) {
    const t = i / segments;
    const position = new THREE.Vector3()
        .copy(nodePosition)
        .add(branchDirection.clone().multiplyScalar(branchLength * t));
    
    // å°ã•ãªãƒ©ãƒ³ãƒ€ãƒ ãªå¤‰åŒ–ã‚’è¿½åŠ 
    position.add(new THREE.Vector3(
        (Math.random() - 0.5) * 0.02,
        (Math.random() - 0.5) * 0.02,
        (Math.random() - 0.5) * 0.02
    ));
    
    subNodes.push(position);
}
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    <details>
    <summary>æ¡œã®å°æã®ä¸‰æ¬¡åˆ†å²</summary>
        <p>
            <code id="code1">
// â˜…æ–°ã—ã„é–¢æ•°ï¼šä¸‰æ¬¡åˆ†å²ï¼ˆå°æã‹ã‚‰æ›´ã«åˆ†å²ï¼‰
function createTertiaryBranch(nodePosition, parentGroup, material, generation) {
    // ã‚ˆã‚Šç´°ã„æã®æ–¹å‘
    const branchDirection = new THREE.Vector3(
        (Math.random() - 0.5) * 2,
        Math.random() * 0.6 + 0.1, // ä¸Šå‘ãå‚¾å‘ã‚’å¼±ã‚ã‚‹
        (Math.random() - 0.5) * 2
    ).normalize();

    // ã‚ˆã‚ŠçŸ­ã„æ
    const branchLength = 0.08 + Math.random() * 0.15;
    const segments = 1 + Math.floor(Math.random() * 2); // 1-2ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    </div>
    </div>

    <div class="demo-flex">
    <div class="demo-section">
        <div class="info">
            æ¡œ<br>
            ãƒã‚¦ã‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦å›è»¢ã§ãã¾ã™
        </div>
    <canvas id="cherryBlossomCanvas" width="480" height="360"></canvas>
    </div>
    <div class="demo-explain">
            <p>ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ä»Šã¾ã§ä½œæˆã—ãŸæ¡œã®èŠ±ã€æã‚’ä½¿ã„ã€1æœ¬ã®æä»˜ãæ¡œã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>
            javascriptã®exportã‚’ä½¿ç”¨ã—ã¦ã€å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã—ã€å†åˆ©ç”¨å¯èƒ½ãªå½¢ã«æ•´ãˆã¾ã™ã€‚<br>
            </p>

         <details>
        <summary>exportã®ä¾‹</summary>
        <p>
            <code id="code1">
export function createSakuraFlower(scale = 1) {
    // èŠ±ã³ã‚‰ã‚’1ã¤ã ã‘ä½œæˆ
    const petal = createSakuraPetal(0.5, 0xff69b4, new THREE.Vector3(0, 0, 0));
    petal.rotation.x = Math.PI / 2;

    return petal;
}
            </code>
            <button onclick="copyToClipboard('code1')">ã‚³ãƒ”ãƒ¼</button>
        </p>
    </details>
    </div>
    </div>
        
        
    <script type="module" src="flower-setting/petal.js"></script>

    <!-- JSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦èª­ã¿è¾¼ã¿ -->
    <script type="module" src="flower-setting/cherry-blossoms.js"></script>

    <script type="module" src="flower-setting/tree_trunk.js"></script>

    <script type="module" src="flower-setting/cherry-blossoms_tree.js"></script>

    </div>

    
    <div class="time-section">
    <h1>æœ¬ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½œæˆæ™‚é–“</h1>
    <p>ç´„15æ™‚é–“</p>
    </div>

    <div class="reference-content">
    <h1>å‚è€ƒè³‡æ–™</h1>
    <ul>
        <li> <h3>Mozilla Developer Network</h3>
            <p>Canvas API ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</p>
            <a href="https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial" target="_blank" class="reference-link">
                https://developer.mozilla.org/ja/docs/Web/API/Canvas_API/Tutorial
            </a></li>
        <li><h3>Qiita</h3>
            <p>Three.js ã®å®Ÿè£…ã«é–¢ã™ã‚‹æŠ€è¡“è¨˜äº‹</p>
            <a href="https://qiita.com/watabo_shi/items/bf9bcd4569b6d480c608" target="_blank" class="reference-link">
                https://qiita.com/watabo_shi/items/bf9bcd4569b6d480c608
            </a></li>
        <li>
            <h3>Logmi</h3>
            <p>JavaScript Three.js ã®æŠ€è¡“è§£èª¬</p>
            <a href="https://logmi.jp/main/technology/330425" target="_blank" class="reference-link">
                https://logmi.jp/main/technology/330425
            </a></li>
            </ul>
            </div>
</body>
</html>